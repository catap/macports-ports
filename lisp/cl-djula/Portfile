# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem              1.0
PortGroup               github 1.0
PortGroup               common_lisp 1.0

github.setup            mmontone djula 477b1026330342295268ad3a5bb5198660363114
name                    cl-djula
version                 20240108
revision                0

checksums               rmd160  8bbc69dd8a65a3deb2b5384be81785bff924f479 \
                        sha256  0df43c27dbd403dea9dee9d5e559828dcca3730fc3888264e165c9836367230a \
                        size    128535

categories-append       www devel
maintainers             {@catap korins.ky:kirill} openmaintainer
license                 MIT

description             Common Lisp port of the Django templating language

long_description        {*}${description}

if {${name} eq ${subport}} {
    depends_lib-append  port:cl-access \
                        port:cl-alexandria \
                        port:cl-babel \
                        port:cl-closer-mop \
                        port:cl-gettext \
                        port:cl-iterate \
                        port:cl-local-time \
                        port:cl-locale \
                        port:cl-parser-combinators \
                        port:cl-ppcre \
                        port:cl-slice \
                        port:cl-split-sequence \
                        port:cl-translate \
                        port:cl-trivial-backtrace

    common_lisp.systems djula.asd \
                        djula-gettext.asd \
                        djula-locale.asd \
                        djula-test.asd \
                        djula-translate.asd
}

subport cl-djula-demo {
    depends_lib-append  port:cl-djula \
                        port:cl-hunchentoot \
                        port:cl-trivial-open-browser

    common_lisp.systems djula-demo.asd

    # should be synced with cl-hunchentoot
    common_lisp.ffi     yes
    common_lisp.threads yes
    common_lisp.abcl    no
    common_lisp.ccl     no

    livecheck.type      none
}
